<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="nabong.bbs.mapper.VisitCountMapper">

<resultMap id="count" type="nabong.bbs.vo.VisitCountVo">
		<result property="visitDate" column="visit_date" />
		<result property="visitId" column="visit_id" />
</resultMap>

	<!-- 총방문자수 설정 -->
	<insert id="setTotalCount">
		 insert into visit (visit_date) values (CURDATE());
	</insert>
	
	<!-- 총 방문자 수 통계 -->
	<select id="getTotalCount" resultMap="count">
		select count(visit_date) from visit;
	</select>
	
	<!-- 일일 방문자 수 통계 -->
	<select id="getTodayCount" resultMap="count">
		select count(*) from visit where visit_date = CURDATE();
	</select>
	
	<!-- 날짜 별 방문자 수 통계 -->
	<select id="getDateCount" resultMap="count">
		select count(*) from visit where visit_date = #{visitDate};
	</select>
	
	<!-- 날짜 불러오기 -->
	<select id="getTime" resultMap="count">
		select * from visit;
	</select>
</mapper>	